<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>finance game</title>
    <style>
        #money-display, #start-button {
            font-size: 24px;
            margin-bottom: 20px;
        }
        #start-button{
           border: 2px solid black;
            padding: 10px;
            width: 40px;
        }
        #card {
            border: 2px solid black;
            padding: 20px;
            width: 300px;
        }
        button {
            margin: 5px;
            padding: 10px 20px;
            font-size: 16px;
        }
    </style>
</head>
<body>
  <div id="start-button">start</div>
    <div id="card">
        <div id="question">
            <h2 id="Actual-question"></h2> <!--Do you want spotify premium? -->
            <button id="yes"></button> <!--yes-->
            <button id="no" ></button> <!--no-->

            <div id="statsAfterOptions"></div>
        </div>
        <!-- <div id="purchase-message"></div> -->

    </div>

    <!-- <input type="text" id="name" placeholder="Type your name..."> -->
    <button id="submit-name">Submit</button>
    <button id="end-game">end-game</button>
    <script type="module">

        document.getElementById("start-button").addEventListener("click" , randomEvent);
        var submitButton = document.getElementById("submit-name").addEventListener("click" ,() => {
           // call function to reset question
          num = Math.random();
          numRequired = Math.ceil(num*10);
          randomEvent();
        });
      
        const events = await fetch('random.csv');
        const eventss = await events.text();
        const eachEvents= eventss.split(`\n`);
        const eachEventInDifferentArrays = eachEvents.map(eachEvent => eachEvent.split(","));
        console.log(eachEventInDifferentArrays);

        var num = Math.random();
        var numRequired = Math.ceil(num*10);

         var [eventName , eventText , OptionXText , XfundModification , XHappinessModification , XStressModification, OptionYtext , YfundModification , YHappinessModification , YStressModification ] = "";

        var yesButton = document.getElementById("yes");
        var noButton = document.getElementById("no");

        var answerText = document.getElementById("statsAfterOptions");

        document.getElementById("yes").addEventListener("click" , yesOrNo);
        document.getElementById("no").addEventListener("click" , yesOrNo);

      
        function randomEvent()
        {
        var differentArrays=eachEventInDifferentArrays[numRequired];
        console.log(differentArrays);

        answerText.innerHTML = "";

        [eventName , eventText , OptionXText , XfundModification , XHappinessModification , XStressModification, OptionYtext , YfundModification , YHappinessModification , YStressModification ] = differentArrays;
        document.getElementById("Actual-question").innerHTML=eventText;
       
        yesButton.innerHTML=OptionXText;
        noButton.innerHTML=OptionYtext;
        
        }
        
        function yesOrNo(){
         if (yesButton)
         {
           answerText.innerHTML= `${XfundModification}CAD , ${XHappinessModification} Happiness , ${XStressModification} stress level `;
           
         }

         else if (noButton)
         {
           answerText.innerHTML= `${XfundModification}CAD , ${XHappinessModification} Happiness , ${XStressModification} stress level `;
         }

         }
        
     

    </script>
</body>
</html>